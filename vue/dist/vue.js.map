{"version":3,"file":"vue.js","sources":["../src/utils.js","../src/globalAPI.js","../src/observe/dep.js","../src/observe/array.js","../src/observe/index.js","../src/observe/watcher.js","../src/state.js","../src/compiler/parse.js","../src/compiler/index.js","../src/vdom/index.js","../src/vdom/patch.js","../src/lifecycle.js","../src/init.js","../src/index.js"],"sourcesContent":["\n\nconst strats = {};\nconst LIFECYCLE = [\n  'beforeCreate','create'\n]\n\nLIFECYCLE.forEach(hook=>{\n  strats[hook] = function(p,c){\n    if(c){\n      if(p){\n        return p.concat(c)\n      }else {\n        return [c]\n      }\n    }else{\n      return p\n    }\n  }\n})\nexport function mergeOptions(parent,child){\n    const options = {};\n    for(let key in parent){\n      mergeField(key)\n    }\n    for(let key in child){\n      if(!parent.hasOwnProperty(key)){\n        mergeField(key)\n      }\n    }\n    function mergeField(key){\n      if(strats[key]){\n        options[key] = strats[key](parent[key],child[key])\n      }else{\n        options[key] = child[key] || parent[key]\n      }\n    }\n   return options\n  }","import { mergeOptions } from \"./utils\";\n\n\n\nexport function initGlobalAPI(Vue){\n\n    Vue.options = {};\n\nVue.mixin = function (mixin){\n  this.options = mergeOptions(this.options,mixin)\n  return this;\n}\n\n\n}","let id = 0;\nexport default class Dep {\n  constructor() {\n    this.id = id++;\n    this.subs = [];\n  }\n  depend() {\n    Dep.target.addDep(this);\n  }\n  addSub(watcher) {\n    this.subs.push(watcher);\n  }\n  notify() {\n    this.subs.forEach((item) => item.update());\n  }\n}\n\nDep.target = null;\n\n\nlet stack = [];\n\nexport function pushTarget(watcher){\n  stack.push(watcher);\n  Dep.target = watcher;\n}\n\n\nexport function popTarget(){\n  stack.pop();\n  Dep.target = stack[stack.length-1]\n}\n","const oldArrayProto = Array.prototype;\n\nexport let newArrayProto = Object.create(oldArrayProto);\n\nconst methods = [\n  'push',\n  'pop',\n  'shift',\n  'unshift',\n  'reverse',\n  'sort',\n  'splice',\n];\n\nmethods.forEach((item) => {\n  newArrayProto[item] = function (...args) {\n    const result = oldArrayProto[item].call(this, ...args);\n    let inserted;\n    let ob = this.__ob__;\n    switch (method) {\n      case 'push':\n      case 'unshift':\n        inserted = args;\n        break;\n      case 'splice':\n        inserted = args.slice(2);\n      default:\n        break;\n    }\n    if (inserted) {\n      ob.observeArray(inserted);\n    }\n\n    return result;\n  };\n});\n","import { newArrayProto } from './array';\nimport Dep from './dep';\n\nclass Observer {\n  constructor(data) {\n    Object.defineProperty(data, '__ob__', {\n      value: this,\n      enumerable: false, //将这个属性置为不可枚举，否则会死循环\n    });\n    if (Array.isArray(data)) {\n      data.__proto__ = newArrayProto;\n      this.observeArray(data);\n    } else {\n      this.walk(data);\n    }\n  }\n  walk(data) {\n    Object.keys(data).forEach((item) => defineReactive(data, item, data[item]));\n  }\n  observeArray(data) {\n    data.forEach((item) => observe(item));\n  }\n}\nexport function defineReactive(target, key, value) {\n  observe(value);\n  let dep = new Dep();\n  Object.defineProperty(target, key, {\n    get() {\n      if (Dep.target) {\n        dep.depend();\n      }\n      return value;\n    },\n    set(newValue) {\n      if (newValue === value) return;\n      observe(value);\n      value = newValue;\n      dep.notify();\n    },\n  });\n}\n\nexport function observe(data) {\n  if (typeof data !== 'object' || data == null) {\n    return;\n  }\n  if (data.__ob__ instanceof Observer) {\n    //说明数据已经被观测了\n    return data.__ob__;\n  }\n  return new Observer(data);\n}\n","import Dep, { popTarget, pushTarget } from './dep.js'\nlet id = 0\nexport default class Watcher {\n  constructor(vm, exprOrFn, options, cb) {\n    this.id = id++\n    this.renderWatcher = options\n    if (typeof exprOrFn === 'string') {\n      this.getter = function(){\n        return vm[exprOrFn]\n      }\n    } else {\n      this.getter = exprOrFn\n    }\n    this.deps = []\n    this.cb = cb\n    this.depsId = new Set()\n    this.lazy = options.lazy\n    this.dirty = this.lazy\n    this.user = options.user;\n    this.vm = vm\n    this.value = !this.lazy && this.get()\n  }\n  addDep(dep) {\n    let id = dep.id\n    if (!this.depsId.has(id)) {\n      this.depsId.add(id)\n      this.deps.push(dep)\n      dep.addSub(this)\n    }\n  }\n  evaluate() {\n    this.value = this.get()\n    this.dirty = false\n  }\n  get() {\n    pushTarget(this)\n    const value = this.getter.call(this.vm)\n    popTarget()\n    return value\n  }\n  depend() {\n    let i = this.deps.length\n    while (i--) {\n      this.deps[i].depend()\n    }\n  }\n  update() {\n    if (this.lazy) {\n      this.dirty = true\n    } else {\n      queueWatcher(this)\n    }\n  }\n  run() {\n    const oldValue = this.value\n    const newValue = this.get()\n    if (this.user) {\n      this.cb.call(this.vm, newValue, oldValue)\n    }\n  }\n}\n\nlet queue = []\nlet has = {}\nlet pending = false\nfunction flushSchedulerQueue() {\n  let flushQueue = queue.slice(0)\n  queue = []\n  has = {}\n  pending = false\n  flushQueue.forEach(q => q.run())\n}\n\nfunction queueWatcher(watcher) {\n  const id = watcher.id\n  if (!has[id]) {\n    queue.push(watcher)\n    has[id] = true\n    if (!pending) {\n      pending = true\n      nextTick(flushSchedulerQueue)\n    }\n  }\n}\nlet callback = []\nlet waiting = false\nfunction flushCallbacks() {\n  let cbs = callback.slice(0)\n  waiting = false\n  callback = []\n\n  cbs.forEach(item => item())\n}\n\nlet timerFunc\nif (Promise) {\n  timerFunc = () => {\n    Promise.resolve().then(flushCallbacks)\n  }\n} else if (MutationObserver) {\n  let observer = new MutationObserver(flushCallbacks)\n  let textNode = document.createTextNode(1)\n  observer.observe(textNode, {\n    characterData: true\n  })\n  timerFunc = () => {\n    textNode.textContent = 2\n  }\n} else if (setImmediate) {\n  timerFunc = () => {\n    setImmediate(flushCallbacks)\n  }\n} else {\n  timerFunc = () => {\n    setTimeout(flushCallbacks)\n  }\n}\n\nexport function nextTick(cb) {\n  callback.push(cb)\n  if (!waiting) {\n    waiting = true\n    setTimeout(() => {\n      flushCallbacks()\n    }, 0)\n  }\n}\n","import Dep from './observe/dep.js'\nimport { observe } from './observe/index.js'\nimport Watcher, { nextTick } from './observe/watcher.js'\n\nexport function initState(vm) {\n  const opts = vm.$options\n  if (opts.data) {\n    initData(vm)\n  }\n  if (opts.computed) {\n    initComputed(vm)\n  }\n  if(opts.watch){\n    initWatch(vm)\n  }\n}\nfunction proxy(vm, target, key) {\n  Object.defineProperty(vm, key, {\n    get() {\n      // console.log(key, 2);\n      return vm[target][key]\n    },\n    set(newValue) {\n      vm[target][key] = newValue\n    }\n  })\n}\nfunction initData(vm) {\n  let data = vm.$options.data //data可能是函数或对象\n  data = typeof data === 'function' ? data.call(vm) : data\n  vm._data = data\n  observe(data)\n  for (let i in data) {\n    proxy(vm, '_data', i)\n  }\n}\n\nfunction initComputed(vm) {\n  const computed = vm.$options.computed\n  let watchers = (vm._computedWatchers = {})\n  for (let key in computed) {\n    let userDef = computed[key]\n    let fn = typeof userDef === 'function' ? userDef : userDef.get\n    watchers[key] = new Watcher(vm, fn, { lazy: true })\n    defineComponted(vm, key, userDef)\n  }\n}\n\nfunction defineComponted(target, key, userDef) {\n  const setter = userDef.set || (() => {})\n  Object.defineProperty(target, key, {\n    get: createComputedGetter(key),\n    set: setter\n  })\n}\n\nfunction createComputedGetter(key) {\n  return function () {\n    const watcher = this._computedWatchers[key]\n    if (watcher.dirty) {\n      watcher.evaluate()\n    }\n    if(Dep.target){\n      watcher.depend()\n    }\n    return watcher.value\n  }\n}\n\n\nfunction initWatch(vm){\n  let watch = vm.$options.watch;\n  for(let key in watch){\n    const handler = watch[key];\n    if(Array.isArray(handler)){\n      for(let i = 0; i <handler.length;i++){\n        createWatcher(vm,key,handler[key])\n      }\n    }else{\n      createWatcher(vm,key,handler)\n    }\n  }\n}\n\nfunction createWatcher(vm,key,handler){\n  if(typeof handler === 'string'){\n    handler = vm[handler];\n  }\n  return vm.$watch(key,handler)\n}\n\nexport function initStateMixin(Vue){\n  Vue.prototype.$nextTick = nextTick\n  Vue.prototype.$watch = function (exprOrFn, cb, options) {\n    new Watcher(this, exprOrFn, { user: true }, cb)\n  }\n}","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`\nconst startTagOpen = new RegExp(`^<${qnameCapture}`) // 他匹配到的分组是一个 标签名  <xxx 匹配到的是开始 标签的名字\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`) // 匹配的是</xxxx>  最终匹配到的分组就是结束标签的名字\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/ // 匹配属性\n// 第一个分组就是属性的key value 就是 分组3/分组4/分组五\nconst startTagClose = /^\\s*(\\/?)>/ // <div> <br/>\n\nexport function parseHTML(html) {\n  const ELEMENT_TYPE = 1\n  const TEXT_TYPE = 3\n  const stack = [] //用于存放元素的\n  let currentParent //指向的是栈中的最后一个\n  let root\n\n  function createASTElement(tag, attrs) {\n    return {\n      tag,\n      type: ELEMENT_TYPE,\n      children: [],\n      attrs,\n      parent: null\n    }\n  }\n\n  function start(tag, attrs) {\n    let node = createASTElement(tag, attrs)\n    if (!root) {\n      root = node\n    }\n    if (currentParent) {\n      node.parent = currentParent\n      currentParent.children.push(node)\n    }\n    stack.push(node)\n    currentParent = node\n  }\n  function chars(text) {\n    text = text.replace(/\\s/g, '')\n    text &&\n      currentParent.children.push({\n        type: TEXT_TYPE,\n        text,\n        parent: currentParent\n      })\n  }\n  function end(tag) {\n    stack.pop()\n    currentParent = stack[stack.length - 1]\n  }\n\n  function advance(n) {\n    html = html.substring(n)\n  }\n  function parseStartTag() {\n    const start = html.match(startTagOpen)\n    if (start) {\n      const match = {\n        tagName: start[1],\n        attrs: []\n      }\n      advance(start[0].length)\n\n      let attr, end\n      while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\n        advance(attr[0].length)\n        match.attrs.push({\n          name: attr[1],\n          value: attr[3] || attr[4] || attr[5]\n        })\n      }\n      if (end) {\n        advance(end[0].length)\n      }\n      return match\n    }\n    return false\n  }\n  while (html) {\n    let textEnd = html.indexOf('<')\n    if (textEnd === 0) {\n      const startTagMatch = parseStartTag()\n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs)\n        continue\n      }\n      let endTagMatch = html.match(endTag)\n      if (endTagMatch) {\n        advance(endTagMatch[0].length)\n        end(endTagMatch[1])\n        continue\n      }\n    }\n    if (textEnd > 0) {\n      let text = html.substring(0, textEnd)\n      if (text) {\n        chars(text)\n        advance(text.length)\n      }\n    }\n  }\n  return root\n}\n","import { parseHTML } from './parse';\n\nexport function compileToFunction(template) {\n  // console.log(template);\n  const ast = parseHTML(template);\n  let code = codegen(ast);\n  code = `with(this){return ${code}}`;\n  return new Function(code);\n}\nfunction codegen(ast) {\n  let children = genChildren(ast.children);\n  let code = `_c('${ast.tag}',${\n    ast.attrs.length > 0 ? getProps(ast.attrs) : 'null'\n  }${ast.children.length > 0 ? `,${children}` : ''})`;\n  return code;\n}\n\nfunction getProps(attrs) {\n  let str = '';\n  for (let i = 0; i < attrs.length; i++) {\n    let attr = attrs[i];\n    if (attr.name === 'style') {\n      let obj = {};\n      attr.value.split(';').forEach((item) => {\n        let [key, value] = item.split(':');\n        obj[key] = value;\n        attr.value = obj;\n      });\n    }\n    str += `${attr.name}:${JSON.stringify(attr.value)},`;\n  }\n  return `{${str.slice(0, -1)}}`;\n}\n\nfunction genChildren(children) {\n  return children && children.map((child) => gen(child)).join(',');\n}\n\nfunction gen(node) {\n  if (node.type === 1) {\n    return codegen(node);\n  } else {\n    let text = node.text;\n    const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // {{ asdsadsa }}  匹配到的内容就是我们表达式的变量\n    if (!defaultTagRE.test(text)) {\n      return `_v(${JSON.stringify(text)})`;\n    } else {\n      let tokens = [];\n      let match;\n      defaultTagRE.lastIndex = 0;\n      let lastIndex = 0;\n      while ((match = defaultTagRE.exec(text))) {\n        let index = match.index;\n        if (index > lastIndex) {\n          tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n        }\n        tokens.push(`_s(${match[1].trim()})`);\n        lastIndex = index + match[0].length;\n      }\n      if (lastIndex < text.length) {\n        tokens.push(JSON.stringify(text.slice(lastIndex)));\n      }\n      return `_v(${tokens.join('+')})`;\n    }\n  }\n}\n","export function createElementVNode(vm, tag, data, ...children) {\n  if (data == null) {\n    data = {};\n  }\n  let key = data.key;\n  if (key) {\n    delete data.key;\n  }\n  return vnode(vm, tag, key, data, children);\n}\n\nexport function createTextVNode(vm, text) {\n  return vnode(vm, undefined, undefined, undefined, undefined, text);\n}\n\nfunction vnode(vm, tag, key, data, children, text) {\n  return {\n    vm,\n    tag,\n    key,\n    data,\n    children,\n    text,\n  };\n}\n\n\nexport function isSameVnode(vnode1,vnode2){\n  return vnode1.tag === vnode2.tag && vnode1.key === vnode2.key\n}\n","import { isSameVnode } from '.'\n\nexport function createElm(vnode) {\n  let { tag, data, children, text } = vnode\n  if (typeof tag === 'string') {\n    vnode.el = document.createElement(tag)\n    patchProps(vnode.el, {}, data)\n    children.forEach(child => {\n      createElm(child) && vnode.el.appendChild(createElm(child))\n    })\n  } else {\n    vnode.el = document.createTextNode(text)\n  }\n  return vnode.el\n}\nexport function patchProps(el, oldProps = {}, props = {}) {\n  let oldStyles = oldProps.style || {}\n  let newStyles = props.style || {}\n  for (let key in oldStyles) {\n    if (!newStyles[key]) {\n      el.style[key] = ''\n    }\n  }\n\n  for (let key in oldProps) {\n    if (!props[key]) {\n      el.removeAttribute(key)\n    }\n  }\n\n  for (let key in props) {\n    if (key === 'style') {\n      for (let styleName in props.style) {\n        el.style[styleName] = props.style[styleName]\n      }\n    } else {\n      el.setAttribute(key, props[key])\n    }\n  }\n}\n\nexport function patch(oldVNode, vnode) {\n  const isRealElement = oldVNode.nodeType\n  if (isRealElement) {\n    const elm = oldVNode\n    const parentElm = elm.parentNode\n\n    const newElm = createElm(vnode)\n    parentElm.insertBefore(newElm, elm.nextSibling)\n    parentElm.removeChild(elm)\n    return newElm\n  } else {\n    return patchVnode(oldVNode, vnode)\n  }\n}\nfunction patchVnode(oldVNode, vnode) {\n  if (!isSameVnode(oldVNode, vnode)) {\n    //如果节点不一样\n    let el = createElm(vnode)\n    oldVNode.el.parentNode.replaceChild(el, oldVNode.el)\n    return el\n  }\n  let el = (vnode.el = oldVNode.el)\n  if (!oldVNode.tag) {\n    //文本的情况\n    if (oldVNode.text !== vnode.text) {\n      oldVNode.el.textContent = vnode.text\n    }\n  }\n  //节点一样，尽量复用\n  patchProps(el, oldVNode.data, vnode.data)\n\n  let oldChildren = oldVNode.children || []\n  let newChildren = vnode.children || []\n\n  if (oldChildren.length > 0 && newChildren.length > 0) {\n    updateChildren(el, oldChildren, newChildren)\n  } else if (newChildren.length > 0) {\n    mountChildren(el, newChildren)\n  } else if (oldChildren > 0) {\n    el.innerHTML = ''\n  }\n  return el\n}\n\nfunction mountChildren(el, newChildren) {\n  for (let i = 0; i < newChildren.length; i++) {\n    let child = newChildren[i]\n    el.appendChild(createElm(child))\n  }\n}\n\nfunction updateChildren(el, oldChildren, newChildren) {\n  let oldStartIndex = 0\n  let newStartIndex = 0\n\n  let oldEndIndex = oldChildren.length - 1\n  let newEndIndex = newChildren.length - 1\n\n  let oldStartVnode = oldChildren[0]\n  let newStartVnode = newChildren[0]\n\n  let oldEndVnode = oldChildren[oldEndIndex]\n  let newEndVnode = newChildren[newEndIndex]\n\n  function makeIndexByKey(children) {\n    let map = {}\n    children.forEach((item, index) => {\n      map[item.key] = index\n    })\n    return map\n  }\n\n  let map = makeIndexByKey(oldChildren)\n\n  while (oldStartIndex <= oldEndIndex && newStartIndex <= newEndIndex) {\n    if (!oldStartVnode) {\n      oldStartVnode = oldChildren[++oldStartIndex]\n    } else if (!oldEndVnode) {\n      oldEndVnode = oldChildren[--oldEndIndex]\n    } else if (isSameVnode(oldStartVnode, newStartVnode)) {\n      patchVnode(oldStartVnode, newStartVnode)\n      oldStartVnode = oldChildren[++oldStartIndex]\n      newStartVnode = newChildren[++newStartIndex]\n    } else if (isSameVnode(oldEndVnode, newEndVnode)) {\n      patchVnode(oldEndVnode, newEndVnode)\n      oldEndVnode = oldChildren[--oldEndIndex]\n      newEndVnode = newChildren[--newEndIndex]\n    } else if (isSameVnode(oldEndVnode, newStartVnode)) {\n      patchVnode(oldEndVnode, newStartVnode)\n      el.insertBefore(oldEndVnode.el, oldStartVnode.el)\n      oldEndVnode = oldChildren[--oldEndIndex]\n      newStartVnode = newChildren[++newStartIndex]\n    } else if (isSameVnode(oldStartVnode, newEndVnode)) {\n      patchVnode(oldStartVnode, newEndVnode)\n      el.insertBefore(oldStartVnode.el, oldEndVnode.el.nextSibling)\n      oldStartVnode = oldChildren[++oldStartIndex]\n      newEndVnode = newChildren[--newEndIndex]\n    } else {\n      let moveIndex = map[newStartVnode.key]\n      if (moveIndex !== undefined) {\n        let moveVnode = oldChildren[moveIndex]\n        el.insertBefore(moveVnode.el, oldStartVnode.el)\n        oldChildren[moveIndex] = undefined\n        patchVnode(moveVnode, newStartVnode)\n      } else {\n        el.insertBefore(createElm(newStartVnode), oldStartVnode.el)\n      }\n      newStartVnode = newChildren[++newStartIndex]\n    }\n  }\n\n  if (newStartIndex <= newEndIndex) {\n    for (let i = newStartIndex; i <= newEndIndex; i++) {\n      let childEl = createElm(newChildren[i])\n      let anchor = newChildren[newEndIndex + 1] ? newChildren[newEndIndex + 1].el : null\n\n      el.insertBefore(childEl, anchor)\n    }\n  }\n\n  if (oldStartIndex <= oldEndIndex) {\n    for (let i = oldStartIndex; i <= oldEndIndex; i++) {\n      if (oldChildren[i]) {\n        let childEl = oldChildren[i].el\n        el.removeChild(childEl)\n      }\n    }\n  }\n\n  console.log(oldStartVnode, newStartVnode, oldEndVnode, newEndVnode)\n}\n","import { createElementVNode, createTextVNode } from './vdom/index';\nimport Watcher from './observe/watcher';\nimport { patch } from './vdom/patch';\n\n\nexport function initLifeCycle(Vue) {\n  Vue.prototype._update = function (vnode) {\n    // console.log('update', vnode);\n    const vm = this;\n    const el = vm.$el;\n    const prevVnode = el._vnode;\n    vm._vnode = vnode;\n    if(prevVnode){\n      vm.$el = patch(prevVnode,vnode)\n    }else{\n      vm.$el = patch(el, vnode);\n    }\n  };\n  Vue.prototype._c = function () {\n    return createElementVNode(this, ...arguments);\n  };\n  Vue.prototype._v = function () {\n    // console.log('c');\n    return createTextVNode(this, ...arguments);\n  };\n  Vue.prototype._s = function (value) {\n    if (typeof value === 'object') return value;\n    return JSON.stringify(value);\n  };\n  Vue.prototype._render = function () {\n    return this.$options.render.call(this);\n  };\n}\nexport function mountComponent(vm, el) {\n  vm.$el = el;\n  // console.log(vm._render(), '坚实的离开');\n  const updateComponent = () => {\n    vm._update(vm._render());\n  };\n  new Watcher(vm, updateComponent, true);\n}\n\n\n\nexport function callHook(vm,name){\n  const handlers = vm.$options[name];\n  handlers && handlers.forEach(item=>item())\n}","import { initState } from './state';\nimport { compileToFunction } from './compiler';\nimport { callHook, mountComponent } from './lifecycle';\nimport { mergeOptions } from './utils';\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    vm.$options = mergeOptions(this.constructor.options, options);\n    callHook(vm,'beforeCreate')\n    //初始化状态\n    initState(vm);\n    callHook(vm,'create')\n    if (options.el) {\n      vm.$mount(options.el);\n    }\n  };\n  Vue.prototype.$mount = function (el) {\n    const vm = this;\n    el = document.querySelector(el);\n    let ops = vm.$options;\n    if (!ops.render) {\n      let template;\n      if (!ops.template && el) {\n        template = el.outerHTML;\n      } else {\n        if (el) {\n          template = ops.template;\n        }\n      }\n      if (template) {\n        const render = compileToFunction(template);\n        ops.render = render;\n      }\n    }\n    // console.log(ops.render, '水电费即可');\n    mountComponent(vm, el);\n  };\n}\n","// const { initMixin } = require('./init');\nimport { initGlobalAPI } from './globalAPI'\nimport { initMixin } from './init'\nimport { initLifeCycle } from './lifecycle'\nimport { initStateMixin } from './state'\n\nfunction Vue(options) {\n  this._init(options)\n}\ninitMixin(Vue)\ninitLifeCycle(Vue)\ninitGlobalAPI(Vue)\ninitStateMixin(Vue)\n\nexport default Vue\n"],"names":["strats","LIFECYCLE","forEach","hook","p","c","concat","mergeOptions","parent","child","options","key","mergeField","hasOwnProperty","initGlobalAPI","Vue","mixin","id","Dep","subs","target","addDep","watcher","push","item","update","stack","pushTarget","popTarget","pop","length","oldArrayProto","Array","prototype","newArrayProto","Object","create","methods","args","result","call","inserted","ob","__ob__","method","slice","observeArray","Observer","data","defineProperty","value","enumerable","isArray","__proto__","walk","keys","defineReactive","observe","dep","get","depend","set","newValue","notify","Watcher","vm","exprOrFn","cb","renderWatcher","getter","deps","depsId","Set","lazy","dirty","user","has","add","addSub","i","queueWatcher","oldValue","queue","pending","flushSchedulerQueue","flushQueue","q","run","nextTick","callback","waiting","flushCallbacks","cbs","Promise","MutationObserver","observer","textNode","document","createTextNode","characterData","setImmediate","setTimeout","initState","opts","$options","initData","computed","initComputed","watch","initWatch","proxy","_data","watchers","_computedWatchers","userDef","fn","defineComponted","setter","createComputedGetter","evaluate","handler","createWatcher","$watch","initStateMixin","$nextTick","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","ELEMENT_TYPE","TEXT_TYPE","currentParent","root","createASTElement","tag","attrs","type","children","start","node","chars","text","replace","end","advance","n","substring","parseStartTag","match","tagName","attr","name","textEnd","indexOf","startTagMatch","endTagMatch","compileToFunction","template","ast","code","codegen","Function","genChildren","getProps","str","obj","split","JSON","stringify","map","gen","join","defaultTagRE","test","tokens","lastIndex","exec","index","trim","createElementVNode","vnode","createTextVNode","undefined","isSameVnode","vnode1","vnode2","createElm","el","createElement","patchProps","appendChild","oldProps","props","oldStyles","style","newStyles","removeAttribute","styleName","setAttribute","patch","oldVNode","isRealElement","nodeType","elm","parentElm","parentNode","newElm","insertBefore","nextSibling","removeChild","patchVnode","replaceChild","textContent","oldChildren","newChildren","updateChildren","mountChildren","innerHTML","oldStartIndex","newStartIndex","oldEndIndex","newEndIndex","oldStartVnode","newStartVnode","oldEndVnode","newEndVnode","makeIndexByKey","moveIndex","moveVnode","childEl","anchor","console","log","initLifeCycle","_update","$el","prevVnode","_vnode","_c","arguments","_v","_s","_render","render","mountComponent","updateComponent","callHook","handlers","initMixin","_init","constructor","$mount","querySelector","ops","outerHTML"],"mappings":"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"}